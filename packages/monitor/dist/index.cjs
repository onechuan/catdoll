"use strict";Object.defineProperty(exports,"__esModule",{value:!0});var e=[];var t={url:"http://127.0.0.1:3000/api",projectName:"webMonitorSdk",appId:"20000902",userId:"90081",isImageUpload:!1,batchSize:20};var r=XMLHttpRequest.prototype.open,n=XMLHttpRequest.prototype.send;function o(e){var r=JSON.stringify({id:"id-"+Date.now()+"-"+Math.random().toString(36).substring(2,9),data:e}),n=function(e,t){window.requestIdleCallback?window.requestIdleCallback((function(){return u(e,t)}),{timeout:3e3}):setTimeout((function(){return u(e,t)}))}(t.url,r);n||a(t.url,r)}function i(r){!function(t){e.push(t)}(r);var n=e;n.length&&n.length>t.batchSize&&(o(n),e.length=0)}function a(e,t){window.requestIdleCallback?window.requestIdleCallback((function(){var o=new XMLHttpRequest;r.call(o,"post",e,!0),n.call(o,JSON.stringify(t))}),{timeout:3e3}):setTimeout((function(){var o=new XMLHttpRequest;r.call(o,"post",e,!0),n.call(o,JSON.stringify(t))}))}var u="sendBeacon"in navigator?navigator.sendBeacon:a;"function"==typeof SuppressedError&&SuppressedError;var l=XMLHttpRequest.prototype,s=l.open,c=l.send,p=Object.freeze({__proto__:null,originalProto:l,originalOpen:s,originalSend:c});var d=Object.freeze({__proto__:null,default:function(){window.addEventListener("error",(function(e){var t=e.target;t&&((t.src||t.href)&&i({type:"error",subType:"resource",url:t.src||t.href,html:t.outerHTML,pageUrl:window.location.href,paths:e.path}))}),!0),window.onerror=function(e,t,r,n,o){i({type:"error",subType:"js",msg:e,url:t,lineNo:r,columnNo:n,stack:o.stack||"",pageUrl:window.location.href,startTime:performance.now()})},window.addEventListener("unhandledrejection",(function(e){i({type:"error",subType:"promise",msg:e.reason,pageUrl:window.location.href,startTime:e.timeStamp})}))}}),f=Object.freeze({__proto__:null});function w(e,t){if(!window.__webMonitorSdk__.vue){window.__webMonitorSdk__.vue=!0;var r=e.config.errorHandler;e.config.errorHandler=function(e,t,n){r&&r.call(this,e,t,n)}}}window.__webMonitorSdk__={version:"0.0.1",vue:!1,react:!1};var _={install:w,performance:p,error:d,init:function(e){!function(e){for(var r in t)e[r]}(e)},behavior:f};exports.default=_,exports.install=w;
//# sourceMappingURL=index.cjs.map
