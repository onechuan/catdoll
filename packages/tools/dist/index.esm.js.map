{"version":3,"file":"index.esm.js","sources":["../src/debounce.ts"],"sourcesContent":["\n/**\n * @description 防抖函数\n * @param func 需要执行的函数\n * @param delay 延迟时间，单位毫秒\n * @param immediate 是否立即执行，默认false\n */\nexport function debounce<T extends (...args: any[]) => any>(func: T, wait: number, immediate: boolean = false): T {\n    let timeout: ReturnType<typeof setTimeout> | null = null;\n    let result: ReturnType<T> | undefined; // 用于存func函数的执行结果\n\n    const later = function(context: ThisParameterType<T>, args: Parameters<T>) {\n        timeout = null;\n        if (args && args.length > 0) {\n            result = func.apply(context, args);\n        }\n    };\n\n    const debounced: T = function(this: ThisParameterType<T>,...args: Parameters<T>): ReturnType<T> {\n        if (timeout) {\n            clearTimeout(timeout);\n        }\n\n        if (immediate) {\n            const callNow = !timeout;\n            timeout = setTimeout(() => later(this, args), wait);\n            if (callNow) {\n                result = func.apply(this, args);\n            }\n        } else {\n            timeout = setTimeout(() => later(this, args), wait);\n        }\n\n        return result as ReturnType<T>;\n    } as T;\n\n    return debounced;\n}"],"names":["debounce","func","wait","immediate","result","timeout","later","context","args","length","apply","_this","this","_i","arguments","clearTimeout","callNow","setTimeout"],"mappings":"SAOgBA,EAA4CC,EAASC,EAAcC,QAAA,IAAAA,IAAAA,GAA0B,GACzG,IACIC,EADAC,EAAgD,KAG9CC,EAAQ,SAASC,EAA+BC,GAClDH,EAAU,KACNG,GAAQA,EAAKC,OAAS,IACtBL,EAASH,EAAKS,MAAMH,EAASC,GAErC,EAoBA,OAlBqB,eAAA,IAgBpBG,EAAAC,KAhB8EJ,EAAA,GAAAK,EAAA,EAAtBA,EAAsBC,UAAAL,OAAtBI,IAAAL,EAAsBK,GAAAC,UAAAD,GAK3E,GAJIR,GACAU,aAAaV,GAGbF,EAAW,CACX,IAAMa,GAAWX,EACjBA,EAAUY,YAAW,WAAM,OAAAX,EAAMK,EAAMH,KAAON,GAC1Cc,IACAZ,EAASH,EAAKS,MAAME,KAAMJ,GAEjC,MACGH,EAAUY,YAAW,WAAM,OAAAX,EAAMK,EAAMH,KAAON,GAGlD,OAAOE,CACX,CAGJ"}